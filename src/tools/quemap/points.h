/*
 * Copyright(c) 1997-2001 id Software, Inc.
 * Copyright(c) 2002 The Quakeforge Project.
 * Copyright(c) 2006 Quetoo.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 *
 * See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
 */

#pragma once

void SphereHammersley(vec3_t *result, int n) {

	// https://www.cse.cuhk.edu.hk/~ttwong/papers/udpoint/udpoint.pdf

	float p, t, st, phi, phirad;
	int k, kk;

	for (k = 0; k < n; k++) {

		t = 0;

		for (p = 0.5, kk = k; kk; p *= 0.5, kk >>= 1) {
			if (kk & 1) {
				t += p;
			}
		}

		t = 2.0 * t - 1.0;
		phi = (k + 0.5) / n;
		phirad = phi * 2.0 * M_PI;
		st = sqrt(1.0 - t * t);

		result[k] = Vec3(st * cos(phirad), st * sin(phirad), t);
	}
}

// Generated with: https://gist.github.com/SpineyPete/f0ba818865f6e9d4cffa5caae6eac695

#define DOME_COSINE_9X {\
	{ {-0.35355332, -0.35355344, 0.8660254} },\
	{ {5.9624403E-9, -0.5, 0.8660254} },\
	{ {0.3535535, -0.35355327, 0.8660254} },\
	{ {-0.5, -4.371139E-8, 0.8660254} },\
	{ {-0.0, -0.0, 1.0} },\
	{ {0.5, 0.0, 0.8660254} },\
	{ {-0.35355338, 0.35355338, 0.8660254} },\
	{ {-2.1855694E-8, 0.5, 0.8660254} },\
	{ {0.35355338, 0.35355338, 0.8660254} }\
}

#define DOME_COSINE_16X {\
	{ {-0.424264, -0.42426416, 0.8 } },\
	{ {-0.1552914, -0.5795556, 0.7999999 } },\
	{ {0.15529168, -0.57955545, 0.8 } },\
	{ {0.42426422, -0.42426392, 0.8 } },\
	{ {-0.57955545, -0.15529159, 0.8 } },\
	{ {-0.14142132, -0.14142136, 0.97979593 } },\
	{ {0.14142142, -0.14142136, 0.9797959 } },\
	{ {0.5795555, -0.15529141, 0.8 } },\
	{ {-0.5795555, 0.15529148, 0.8 } },\
	{ {-0.14142135, 0.14142142, 0.9797959 } },\
	{ {0.1414214, 0.1414214, 0.9797959 } },\
	{ {0.5795555, 0.15529147, 0.8 } },\
	{ {-0.42426407, 0.42426407, 0.8 } },\
	{ {-0.15529144, 0.5795555, 0.8 } },\
	{ {0.15529145, 0.5795555, 0.8 } },\
	{ {0.42426407, 0.42426407, 0.8 } }\
}

#define DOME_COSINE_25X {\
	{ {-0.4714044, -0.47140455, 0.745356} },\
	{ {-0.25512207, -0.61591977, 0.745356} },\
	{ {7.94992E-9, -0.6666666, 0.745356} },\
	{ {0.2551224, -0.6159196, 0.745356} },\
	{ {0.47140464, -0.4714043, 0.745356} },\
	{ {-0.61591965, -0.25512227, 0.745356} },\
	{ {-0.2357022, -0.23570228, 0.94280905} },\
	{ {3.97496E-9, -0.3333333, 0.94280905} },\
	{ {0.2357023, -0.23570226, 0.942809} },\
	{ {0.61591965, -0.25512227, 0.745356} },\
	{ {-0.6666666, -5.828185E-8, 0.745356} },\
	{ {-0.3333333, -2.9140924E-8, 0.94280905} },\
	{ {-0.0, -0.0, 1.0} },\
	{ {0.33333337, 0.0, 0.942809} },\
	{ {0.6666666, 0.0, 0.745356} },\
	{ {-0.6159197, 0.25512215, 0.745356} },\
	{ {-0.23570223, 0.23570235, 0.942809} },\
	{ {-1.4570465E-8, 0.33333337, 0.942809} },\
	{ {0.23570229, 0.23570229, 0.942809} },\
	{ {0.61591965, 0.25512233, 0.745356} },\
	{ {-0.4714045, 0.4714045, 0.745356} },\
	{ {-0.25512233, 0.61591965, 0.745356} },\
	{ {-2.9140924E-8, 0.6666666, 0.745356} },\
	{ {0.25512233, 0.61591965, 0.745356} },\
	{ {0.4714045, 0.4714045, 0.745356} } \
}

#define DOME_COSINE_36X {\
	{ { -0.50507617, -0.50507635, 0.6998542 } },\
	{ { -0.32427874, -0.63643336, 0.6998542 } },\
	{ { -0.11173861, -0.7054917, 0.6998542 } },\
	{ { 0.1117393, -0.7054916, 0.6998542 } },\
	{ { 0.32427907, -0.6364332, 0.6998542 } },\
	{ { 0.50507647, -0.5050761, 0.6998542 } },\
	{ { -0.63643324, -0.32427898, 0.6998542 } },\
	{ { -0.3030457, -0.30304578, 0.90350795 } },\
	{ { -0.11092242, -0.4139682, 0.90350795 } },\
	{ { 0.11092262, -0.41396812, 0.90350795 } },\
	{ { 0.3030458, -0.30304575, 0.9035079 } },\
	{ { 0.63643324, -0.32427892, 0.6998542 } },\
	{ { -0.7054917, -0.11173884, 0.6998542 } },\
	{ { -0.41396815, -0.11092255, 0.90350795 } },\
	{ { -0.10101523, -0.10101526, 0.98974335 } },\
	{ { 0.101015314, -0.10101526, 0.98974335 } },\
	{ { 0.41396824, -0.11092244, 0.9035079 } },\
	{ { 0.7054917, -0.111738905, 0.6998542 } },\
	{ { -0.7054917, 0.11173889, 0.6998542 } },\
	{ { -0.41396818, 0.11092248, 0.90350795 } },\
	{ { -0.10101526, 0.101015314, 0.98974335 } },\
	{ { 0.10101529, 0.10101529, 0.98974335 } },\
	{ { 0.41396824, 0.11092249, 0.9035079 } },\
	{ { 0.7054917, 0.111738935, 0.6998542 } },\
	{ { -0.6364333, 0.32427883, 0.6998542 } },\
	{ { -0.30304578, 0.30304578, 0.9035079 } },\
	{ { -0.110922456, 0.41396824, 0.9035079 } },\
	{ { 0.11092252, 0.41396824, 0.9035079 } },\
	{ { 0.30304578, 0.30304578, 0.9035079 } },\
	{ { 0.63643324, 0.32427898, 0.6998542 } },\
	{ { -0.5050763, 0.5050763, 0.6998542 } },\
	{ { -0.32427886, 0.6364333, 0.6998542 } },\
	{ { -0.11173898, 0.70549166, 0.6998542 } },\
	{ { 0.11173893, 0.7054917, 0.6998542 } },\
	{ { 0.32427895, 0.63643324, 0.6998542 } },\
	{ { 0.5050763, 0.5050763, 0.6998542 } }\
}

#define DOME_COSINE_49X {\
	{ { -0.53033, -0.5303302, 0.6614378 } },\
	{ { -0.37499994, -0.6495191, 0.6614378 } },\
	{ { -0.19411424, -0.7244444, 0.6614378 } },\
	{ { 8.94366E-9, -0.75, 0.6614378 } },\
	{ { 0.1941146, -0.72444427, 0.6614378 } },\
	{ { 0.37499994, -0.6495191, 0.6614378 } },\
	{ { 0.53033024, -0.5303299, 0.6614378 } },\
	{ { -0.649519, -0.37499997, 0.66143787 } },\
	{ { -0.35355332, -0.35355344, 0.8660254 } },\
	{ { -0.19134156, -0.46193984, 0.8660254 } },\
	{ { 5.9624403E-9, -0.5, 0.8660254 } },\
	{ { 0.1913418, -0.46193972, 0.8660254 } },\
	{ { 0.3535535, -0.35355327, 0.8660254 } },\
	{ { 0.649519, -0.375, 0.6614378 } },\
	{ { -0.7244443, -0.19411448, 0.66143775 } },\
	{ { -0.46193975, -0.19134171, 0.8660254 } },\
	{ { -0.17677666, -0.17677672, 0.96824586 } },\
	{ { 2.9812202E-9, -0.25, 0.96824586 } },\
	{ { 0.17677675, -0.17677663, 0.96824586 } },\
	{ { 0.46193975, -0.19134173, 0.8660254 } },\
	{ { 0.7244444, -0.19411428, 0.6614378 } },\
	{ { -0.75, -6.556708E-8, 0.6614378 } },\
	{ { -0.5, -4.371139E-8, 0.8660254 } },\
	{ { -0.25, -2.1855694E-8, 0.96824586 } },\
	{ { -0.0, -0.0, 1.0 } },\
	{ { 0.25, 0.0, 0.96824586 } },\
	{ { 0.5, 0.0, 0.8660254 } },\
	{ { 0.75, 0.0, 0.6614378 } },\
	{ { -0.7244444, 0.1941142, 0.6614378 } },\
	{ { -0.4619398, 0.19134164, 0.8660254 } },\
	{ { -0.17677669, 0.17677669, 0.96824586 } },\
	{ { -1.0927847E-8, 0.25, 0.96824586 } },\
	{ { 0.17677669, 0.17677669, 0.96824586 } },\
	{ { 0.46193975, 0.19134173, 0.8660254 } },\
	{ { 0.7244444, 0.19411428, 0.6614378 } },\
	{ { -0.649519, 0.37500006, 0.6614378 } },\
	{ { -0.35355338, 0.35355338, 0.8660254 } },\
	{ { -0.19134176, 0.46193975, 0.8660254 } },\
	{ { -2.1855694E-8, 0.5, 0.8660254 } },\
	{ { 0.19134171, 0.46193975, 0.8660254 } },\
	{ { 0.35355338, 0.35355338, 0.8660254 } },\
	{ { 0.649519, 0.375, 0.6614378 } },\
	{ { -0.53033006, 0.53033006, 0.66143787 } },\
	{ { -0.37500006, 0.649519, 0.6614378 } },\
	{ { -0.19411428, 0.7244444, 0.6614378 } },\
	{ { -3.278354E-8, 0.75, 0.6614378 } },\
	{ { 0.1941143, 0.7244444, 0.66143775 } },\
	{ { 0.37500006, 0.649519, 0.6614378 } },\
	{ { 0.53033006, 0.53033006, 0.66143787 } }\
}

#define DOME_COSINE_64X {\
	{ {-0.5499718, -0.54997206, 0.6285394 } },\
	{ {-0.41380286, -0.6585632, 0.6285394 } },\
	{ {-0.25688344, -0.7341316, 0.6285394 } },\
	{ {-0.08708351, -0.7728873, 0.6285394 } },\
	{ {0.087083526, -0.7728873, 0.6285394 } },\
	{ {0.25688383, -0.73413146, 0.6285394 } },\
	{ {0.41380286, -0.6585632, 0.6285394 } },\
	{ {0.5499721, -0.54997176, 0.6285394 } },\
	{ {-0.65856314, -0.41380295, 0.6285394 } },\
	{ {-0.39283705, -0.39283717, 0.83147943 } },\
	{ {-0.25221682, -0.49500373, 0.8314794 } },\
	{ {-0.086907804, -0.54871583, 0.8314794 } },\
	{ {0.08690835, -0.5487157, 0.8314794 } },\
	{ {0.25221705, -0.49500358, 0.83147943 } },\
	{ {0.39283726, -0.392837, 0.8314794 } },\
	{ {0.65856326, -0.41380277, 0.6285394 } },\
	{ {-0.7341315, -0.2568837, 0.6285394 } },\
	{ {-0.49500364, -0.252217, 0.8314794 } },\
	{ {-0.2357022, -0.23570228, 0.94280905 } },\
	{ {-0.08627299, -0.32197526, 0.94280905 } },\
	{ {0.08627315, -0.3219752, 0.9428091 } },\
	{ {0.2357023, -0.23570226, 0.942809 } },\
	{ {0.49500364, -0.25221696, 0.8314794 } },\
	{ {0.7341315, -0.2568837, 0.6285394 } },\
	{ {-0.7728873, -0.087083586, 0.6285394 } },\
	{ {-0.5487158, -0.08690799, 0.8314794 } },\
	{ {-0.32197523, -0.0862731, 0.94280905 } },\
	{ {-0.0785674, -0.07856743, 0.993808 } },\
	{ {0.07856749, -0.07856743, 0.993808 } },\
	{ {0.32197532, -0.086273015, 0.942809 } },\
	{ {0.5487158, -0.086908035, 0.8314794 } },\
	{ {0.7728873, -0.08708348, 0.6285394 } },\
	{ {-0.7728873, 0.08708345, 0.6285394 } },\
	{ {-0.5487158, 0.08690803, 0.8314794 } },\
	{ {-0.32197526, 0.08627304, 0.94280905 } },\
	{ {-0.07856744, 0.078567475, 0.993808 } },\
	{ {0.07856745, 0.07856745, 0.993808 } },\
	{ {0.32197532, 0.08627305, 0.942809 } },\
	{ {0.5487158, 0.08690808, 0.8314794 } },\
	{ {0.7728873, 0.087083526, 0.6285394 } },\
	{ {-0.73413146, 0.25688377, 0.6285394 } },\
	{ {-0.49500367, 0.25221688, 0.83147943 } },\
	{ {-0.23570223, 0.23570235, 0.942809 } },\
	{ {-0.08627302, 0.32197532, 0.942809 } },\
	{ {0.086273074, 0.32197532, 0.942809 } },\
	{ {0.23570229, 0.23570229, 0.942809 } },\
	{ {0.49500364, 0.252217, 0.8314794 } },\
	{ {0.73413146, 0.25688377, 0.6285394 } },\
	{ {-0.65856326, 0.41380283, 0.62853926 } },\
	{ {-0.3928371, 0.3928371, 0.8314794 } },\
	{ {-0.2522169, 0.49500367, 0.8314794 } },\
	{ {-0.086908095, 0.5487158, 0.8314794 } },\
	{ {0.08690806, 0.5487158, 0.8314794 } },\
	{ {0.25221696, 0.49500364, 0.8314794 } },\
	{ {0.3928371, 0.3928371, 0.8314794 } },\
	{ {0.65856326, 0.41380277, 0.6285394 } },\
	{ {-0.54997194, 0.54997194, 0.6285394 } },\
	{ {-0.41380283, 0.6585632, 0.6285394 } },\
	{ {-0.25688377, 0.73413146, 0.6285394 } },\
	{ {-0.08708346, 0.7728873, 0.6285394 } },\
	{ {0.08708349, 0.7728873, 0.6285394 } },\
	{ {0.2568837, 0.7341315, 0.6285394 } },\
	{ {0.41380268, 0.6585633, 0.6285394 } },\
	{ {0.54997194, 0.54997194, 0.6285394 } }\
}

#define CUBE_8 { \
	{ { -1, -1, -1 } }, \
	{ {  1, -1, -1 } }, \
	{ {  1,  1, -1 } }, \
	{ { -1,  1, -1 } }, \
	{ { -1, -1,  1 } }, \
	{ {  1, -1,  1 } }, \
	{ {  1,  1,  1 } }, \
	{ { -1,  1,  1 } }, \
}
